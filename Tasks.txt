 Ok. Сделать фон
	Сделать фон у body? или у canvas тега? или отрисовать в canvas?
	разрешение картинки 1988x882 (разрешение экрана 1920x1080) (разрешение chrome окна 1920x937)
		тобишь при разрешении экрана в 4k - будет некрасивая хрень
			при большем размере мы можем центрировать по центру картинку, а остальное заполнить чёрным
	Как будет происходить отображение фона при разных разрешениях и пропорциях?
		особенно при более меньших
			будем ли мы передвигать фон? или будем его обрезать? 
				двигать будет не удобно + бестолково, если нападение со всех сторон происходит
				* значит будем масштабировать в одинаковой пропорции с заполнением чёрным по краям
	Результат: отображаем в пропорции, заполняем фон затемлённой землёй
Ok. наведение на объекты
Ok. time цикл
Ok. Анимации
Ok. пропорции объектов
	ширина экрана 1920
	ширина летающей земли 500 (1/4 ширины экрана)
		1920 / 2 - 500 / 2 = 710 пикселей от границ экрана до земли 
Ok. текст от сбора монеток (+1) зелёным-лаймовым цветом
	Message.Add(messages, new Vector2(mouse.X - 10, mouse.Y - 10), new Message("+" + Coin.costGold));
	rgb(191,255,0)
Ok. структура js файлов
	Ok. нужно разделить функционал по canvas и game logic 
		скорей всего это будет базовый класс с функциями: draw, logic, init, hover, click

		как быть с множественными объектами?
			можно статичныый класс сделать, но тогда придётся постоянно копировать его функционл в новые классы

		WaveData класс

		Решено. расположение неверное, куда идут зомби (нет смещения на середину здания)
		Решено. монетки не собираются зомби
		Решено. урон не наносится зданию
Ok. создать отдельный index.html для тестов
	создать класс для тестов
Ok. меню
	можно ставить игру на паузу - тогда появится меню с пунктами "Продолжить", "Новая игра"
	если волна закончилась, то добавляются пункты "Магазин", "Новая волна"
	если игрок проиграл, то только пункт "Новая игра"
	Ok. добавить кнопку "Меню" в верхний левый угол
Fixed. есть баг с монетками - после выхода из паузы - они исчезают, т.к. они по createdTime удаляются.
	надо поменять на lifeTimeLeft
Ok. сделать несколько видов одного монстра (разные цвета? / небольшие различия?)
	Ok. модернизировать выбор изображения из существующих - лучше передавать скоп картинок внутрь класса Monster, а там рандомом выбирать?
Ok. добавить показ уровня волны
	Ok. 1-ая волна
Ok. добавить показ количества монстров на волне (просто сколько убито из всего) 0/500
Ok. после волный, показывать сообщение - 1-ая волна - пройдено.
	Ok. появляется кнопка магазина 
	Ok. и кнопка - начать следующую волну
Ok. Архитектурный момент по html:
	магазин стал сильно большим и там много функционала по добавлению/исчезновению элементов
	Ok. может пора использовать react?
			стоит ли использовать reduxe? 
				только для html? или для всего?
			Какой react? 
				native или продвинутый?
	Ok. Так же пора использовать less или sass для стилей
	Ok. TypeScript 
Ok. нужно использовать TypeScript что бы не было проблем с тонной ошибок
Ok.у магазина должно быть затемнение заднего фона
Cancel. добавить магазин (вариант 1):
	нужно расписать все возможности, которые можно купить

		> юниты 
			атакующие, 
				маги, лучники, воины
			собирающие монетки, 
			долбящие землю, 
			лечащие, 
				маги, врачи
			ремонтирующие

				* получают опыт для новых уровней, с каждым уровнем повышаются характеристики
				* можно прокачивать каждого юнита отдельно

		> баррикады (колья, стена деревянная)

		> оборонительные башни
			наземные
				 башня как в warcraft у орков, 
			на летающей земле
				 катапульта, 
				 балиста 

		> другие строения 
			магнит на сбор монет, 
			мед блок для лечения юнитов после волны
			бур
			энергетический барьер


		> улучшение клика (увеличение урона, коэффициент сбора монет увеличенный)
			сбор монет при наведении мыши,
			магнит на монеты для мышки

		> магия (
			вызов метеора, 
			улучшение защиты/атаки юнитов и построек на n секунд
			лечение юнита, 
			массовое лечение, 
			ремонт постройки)
cancel. магазин (вариант 2) (покупаются здания на острове + их улучшения, затем в самих зданиях покупаются их содержимое) 
	> храм - улучшения повышают силу клика и заклинаний 
		> пассивные
			> сбор монеток при наведении
			> магнит для монеток
			> поджигание врагов (горят долго)
			> замораживание врагов (медленно передвигаться будут)
			> удал электричеством (по цепочке передаётся)
		> активные заклинания
			> метеорит
			> огненный дождь

			> заморозка
			> цепная молния
			> каменные шипы из под земли

			> лечение
			> ремонт

	> казарма - улучшения усиливают юнитов (при смерти юнитов - их можно воскресить за 10% от стоимость) 
		> рабы для сбора монеток
		> рабы для долбления земли
		> Леголаз - лучник (улучшения увеличивают скорость стрельбы и урон)
		> Паладин - юнит с щитом и мечом (улучшения повышают защиту и хп)
		> Берсерк - атакующий юнит с секирой (улучшения повышают урон, область атаки и хп)
		> Маг - атакующий юнит с жезлом (улучшения повышают урон, дают новые заклинания и увеличивают область атаки)
		> медсестра - лечит юнитов магией (улучшения повышают силу лечения и скорость передвижения)
		> Техник - чинит здания (улучшения повышают скорость восстановления зданий и скорость передвижения)
		
		> Терминатор (дорого) - атакующий робот на гусеничной платформе, сверху - пулемёт (улучшения повышают урон)
		> летающиая тарелка (очень дорого) - атакующий летающий юнит (атакует лучом) (улучшения повышают скорост полёта и урон)

	> строительная фабрика - улучшения увеличивают хп и защиту строений 
		> баррикады (деревянные)
		> стена (деревянная)

		> атакующие
			> башня наземная
			> башня воздушная
			> катапульта
			> балиста

		> бур (для добычи монеток)
		> магнит - для сбора монеток
		> энергетический барьер 

	> Исследовательский центр - позволяет изучать новые виды зданий, юнитов и магии, после чего появляются новые скины
		(надо подглядеть в других играх)
		1. ур (изначальный) - деревянные здания (башня варкрафта), юниты с копьями, луками, с деревянные щитами
			? 1.1 ур - укреплённые деревянные здания, юниты с каменными копьями
		2. ур - каменные здания (башня из казаков), юниты с мечами, арбалетами, улучшенными луками, железными щитами
		3. ур - стальные здания, юниты с мушкетами, саблями
		4. ур - бетонные здания, юниты с автоматами, гранатами
		5. ур - иновационные здания, юниты с лазерами, энергетическими щитами и гранатами


		отдельные улучшения?
			> повышение защиты зданий
			> повышение силы магии (у кликов и у  магических юнитов и зданий)
			> повышение урона юнитов
			> повышение защиты юнитов
			> 
В процессе. Магазин (Вариант 3) - гибрид варианта 1 и 2
	Минусы варианта 2 - необходимость строить здание перед покупкой
	Минусы варианта 1 - было бы классно построить храм на горе и казарму и завод (или нет?)
		Храм позволяет апгрейдить магию, силу клика и изучать новые заклинания
		Казарма позволяет апгрейдить юнитов и нанимать новых персонажей
		Завод позволяет апгрейдить строения и строить новые здания
Ok. добавить кнопку на начало новой волны
Ok. монстры должны разрушать постройки.
Ok. При уничтожении монстров добавить анимацию разлитания энергии вокруг,
	 как в игре Valheim
Ok. добавить анимацию разрушения башни
	Ok. (после 0 хр)
Ok. оживить башню - она должна стрелять по ближайшим врагам
Ok. добавить анимацию атаки башни (стрелой)
Ok. добавить затемнение объектов во время блокировки нажатий
Fail. добавить вибрацию земли при клике (добычи золота)
	[результат с вибрацией по горизонтале и по rotate оказался не очень]
Ok. в волнах выставить отсрочку появления каждого типа монстра, что бы более сложные выходили чуть позже
Ok. создавать монстров разного размера (в диапазоне) + разное хп от размера
	Ok. сделать отрисовку изображения меньше оригинала
	Ok. сделать движение наземных монстров по земле, а не по заданному y
Ok. добавить демо режим: мало монстров, высокая награда за них
Ok. связать скорость анимации со скоростью движения
Ok. сделать прыок кабана заметнее
Ok. сделать анимаю атаки кабанку
Ok. при строительстве отображать радиус стрельбы башни 
Fixed. в режиме строительства, при клике на магазин или меню - выбранная башня ставиться/строиться
Fixed. если поставить башню на середину, то монстры будут бить саму верёвку через башню
Fixed. При отображение надписи "Волна пройдена", если тыкнуть на "Новая волна", то будет тёмный экран пару секунд
	нужно принудительно завершать показ предыдущей надписи при появлении новой надписи.
Fixed. невозможно поставить более одной башни
Ok. добавить затемнение с прозрачным пропаданием пыли от строительства здания и взрыва здания
-----------------------------------------------------------------------------------------------------------------------------------
	
	
Оптимизации:
-
	
	
Баги:
-
	
	
Высокий приоритет:
> дать кабану спец способность +  анимация спец способности
> сделать разные версии окраски кабанов

> добавить звуки

> новые виды монстров
	> наземные
		Ok. зомби
		InProgress. кабаны
			способность: с 30% встаёт и как бык начинает землю задними копытами гребсти, а потом бежит с пылью и 
				врезается нанося 10-ти кратных урон.
				+ добавить анимацию шатания башни от такого удара.
	> летающие
		1. летучие мышки
			летят не по прямой траектории, а зигзагообразно (падают, поднимаются,...)
	> мини боссы
		1. Минотавр
	> стайные мобы
	> магические (стреляют огнеными шарами, которые надо сбивать)

> добавить магический удар метеоритом



Средний приоритет:
> добавить анимацию искр золотых при добычи золота [нейтральная польза, возможно, стоит отказаться от этой идеи]
> добавить эмоциональное вознаграждение за клик по мобу + за клик по летающей земле
	> добавить анимацию кирки при добычи золота (сияние кирки с блёском)
	> доработать анимацию меча при клике по мобу
> добавить отлёт ошмётков при ударе по канату мобами
> обломки от ударов по башне
> в меню добавить кнопку "Save" - а потом загружать то, что было сохранено

> добавить магический огненный меч (мышка становиться горящим мечом) - клики по монстрам поджигают их
	можно потом придумать монстров разного типа (водного/каменного, на которых не будет действовать данный эффект)

upgrade башни: 
	новые длинные луки (увеличение радиуса), 
	добавления лучника в башню (увеличение частоты стрельбы), 
	добавление огненных стрел (поджигают монстров), 
	более прочные материалы (увеличение прочности)
	стрелы из другого материала (увеличение урона)
	там же ремонт и отображение стоимости ремонта (init price - health / init health * init price) / 2
	
	
	'


Минимальный приоритет:
> сделать воспроизведение анимации за указаное время, а не хаотичное исполнение - оно пропускает кадры и не факт, что кадры идут друг за другом)
	> синхронизировать анимацию атаки с частотой нанесения урона
> усорять появление монстров и их скорость к концу волны (линейно)
> добавить юнит тесты и визуальные тесты
> нужна защита от макросов мышки на 2x и 3x клик
> прикольно добавить реакциию мобов на клик по ним - падание, подскоки, кувырки, ...
	добавить логику, на уворачивание/кувырки монстров от мышки (для некоторых типов монстров и мини боссов)
		+ закрывание щитами, сворачивание в клубки для защиты

> магия: целебный источник, на летающей земле открывается лечебный фонтан, все юниты в радиусе действия исцеляются на n xp в секунду 
	для продвинутого уровня игры (когда много юнитов можно нанимать)




https://www.artstation.com/artwork/q9ELee
https://gifer.com/ru/gifs/

прикол с цветом: ctx.filter="hue-rotate(260deg)"; //красный 






