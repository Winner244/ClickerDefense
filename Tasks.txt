	этот кликкер - лишь малый пазл общей системы
	
		монстр Апокалипсис
			либо это будет другая планета, на ней орды монстрво постоянно нападают с нарастающим уровней сложности - если не справился - то снесут полностью 
			
			на карте будут ресурсы, за каждый из них будет кликкер захват, каждый из них будет давать свой ресурс уникальный 
				можно выстраивать цепочки поставок, переработки ресурсов, заводы для производства всякого....
				
			исследования и развития технологий, требующих более продвинутые ресурсы
			
			на карте будет туман войны, нужно будет отправлять вооружённые отряды для исследования карты и поиска ценного на ней 
			так же строить аванпосты и форпосты для более дальних экспедиций и для защиты области от монстров 
			нанимать героев и отправлять в похоод, после смерти - оживлять 
			прокачивать за оплученный опыт героя 
			
			так же на карте будут ценные артефакты жревней цивилизации, жившей раньше на этой планете 
			
			сюжет... тайны...
		
			скрытая магия ....
			
			на карте будут разные рассы (орки, лесные эльфа, пустынные народы, арктические лаборатории, инопланетная расса, другие люди)
				с ними можно будет взаимодействовать как захочется - развязать войну, либо сотрудничать, торговать, ...)
				
			разные биомы ...
			
			карта будет иметь разную детализацию (можно увеличивать/уменьшать 
				просмотр стратегической карты со всеми городами 
				просмотр строений в городе/поселении/форпосте
		
		после завершения 10-ой волны - поздравить и показать захваченный объект на карте 
		после поражения от 10+ уровня показывать уровень захваченного объекта и количество ресурсов которое оно будет приносить на данном уровне... можно потом попытаться переиграть на более высокое значение 
			можно ещё сделать, что бы купленные и прокаченные герои и магия сохранялись после прохоождения уровней 
			и можно было их исполььзовать на следующих боях...
		+ связать с игрой "Медуза"  - так же через мини миссии, будут паралельно данным квестам на карте 
			клккер - защита и захват ресурсов 
			Медуза - подземелья, компания, миссии на поиск артефактов, массии по исследованию областей, спасательные миссии, ...
				прохождение за людей с предметами и небольшим строительством на некоторых миссиях
				прохождение за монстров с прокачкой и мутациями
				+ сделать совместные рейды с другими игроками на миссии
				+ сделать pvp махач как и планировался для Медузы + выделить в отдельную игру затем с ссылкой на это дело

		стратегическая карты с постройкой и модернизацией строений/замков/деревень,...

		после захвата каменного рудника - на всех картах появится взможность строить/модернизировать текущие строения до каменных 
		после захвата железного рудника появится возможность повышать атаку дальше, выше n уровня (без этого, можно будет атаку ток до определённого значения качать)
			....
		новые захваченные локации будут влиять на открытие новых механик игры и на переход на более продвинутый уровень 
			что будет стимулировать игроков проходить старые карты до новых уровней для повышения добычи ископаемых и захвата новых артефактов с новых боссов

		возможно первый кликер будет - лесопилка, а монеты уже потом?
			монеты позволят нанимать юнитов 

		ещё одна локация - храм 
			он позволит использовать магию 

		на каждой локации свои уникальные монстры, арсенал игрока может немного варьироваться от локации 
		
		добавить сражения между двумя базами:
			слева одна база - наша, справа другая - вражеская 
			из ресурсов - золото/деньги, 
			прокачиваем добычу золота, усиливаем оборону, создаём войска, улучшаем технологии, 
				войска создаюстся и идут на вражескую базу, где противник так же пытается победить нас 
			сперва можно сделать современную модель (танки, самолёты, вертолёты, пехота, ракеты) 
			потом в разных эпохах делать и будет отдельно - с начальной эпохи война до конечной
	> можно будет ещё добавить мультиплеер отдельный в отдельный кликкер - типо вдвоём защищаться от монстров 
		там можно будет сервер установить и сокеты и проверить всю работу вместе по инету и с задержками
		
	
	
	

Итог: будет стратегия, кликер, шутер в одной 2d игре.
	это повысит разнообразие игры.
		

Оптимизации/Рефакторинг:
	> возможно стоит везде поменять лоигку отрисовки (Necromancer, Skeler) 
		drawObject теперь принимает анимацию/изображение - стоит тогда просто прокидывать нужное в drawObject, 
		а не отрисовывать это самому
	> selectGoal for monster. 
		if it is unit, need to check sometimes - maybe it has moved further than some building, OR vice versa got closer than the some building
		можно сделать для левой и правой стороны по списку, которые обновляются при перемещении юнита - там будут юниты и здания ближайшие к монстрам, что бы им не искать цель, 
		а просто брать первого из списка + при уничтожении здания будет проще
		но список должен быть для наземных и воздушных зданий и юнитов
	> вводить события для оптимизации
		> некромант 
		> монстры - выбор новой цели после смены "x" у юнитов 
			> units должен посылать событие

Баги: 
	> редкий баг. много раз в меню заходить надо. The time must be greater than or equal to the last scheduled time
		AudioSystem
			ResumeSound
				x.start(delayLeftSec, offsetSec);
			
Поменять:
	> скелетам нехватает своих звуков после того как они вылезли из под земли 
	> иконку радиуса атаки поменять на круг зелёный с точкой внутри
		а можно внутри стрелу разместить 
		> тогда для радиуса взрыва - будет сам взрыв в середине
	> возможно башне при прокачке взрыва стоит убрать прокачку обычного урона - там уже появляется прокачка урона от взрыва 
	> возможно стоит заменить изображение собирателя в магазине?
		может его с монетой в руке изобразить?
	 
RoadMap:
	> добавить падающий метеор
	> добавить магию пассивную 
		> урон 
		> сбор монет 
		> магнит для монет 
		> поджигание 
		> гравитационный импульс 
		> магнитный импульс для монет 
		> магнитный импульс для добычи монет 
	> добавить земляной вал/шипы как баррикада магическая 
	> добавить удар молнии 
	> добавить летающего дракона 
	> добавить юнита - мечника 
	> доабвить юнита - лучника 
	> добавить юнита - мага 
	> задеплоить игру - добавить окошко с достижением конца демо версии - поздравления, конфити - дальнейший roadmap  и типо оставайтесь на связи...
		+ отправка на email отзыва о игре (достоинства, недостатки, что доделать, что нехватает, пожелания, найденные баги, ...)
		+ связь с разработчиком 
	> оставшиеся монстры, босс, строения, юниты, магия 

	> создать обучение на основе этой игры - отдельные ветки под каждый урок с минимум кода 
		сайт для написания JS кода там и сразу его приминение на сценарии игровом
		+ статью на hubr 
		урок 1 - есть неисчезающие монетки на карте и собиратель стоит.
			написать для него логику сбора монет с использованием готовой анимации сбора и движения.

	> добавить возможность добавлять строения/юниты/монстров/магию - другим игрокам через сайт
		+ менять/дополнять скины текущих


Высокий приоритет:	
	> магия: 
		> панель для магии.
			первая - управления на цифры
			вторая - Alt + цифра
			третья - Ctrl + цифра 
			
			при покупки магии - выдвигается первая, если нету.
				если первая заполнена - выдвигается вторая снизу 
					расширять высоту body что бы появлялась прокрутка если не влазиет на экран
				если вторая заполнена - выдвигается третья снизу 
				
				> если все 3 заполнены - не давать списывать деньгу за покупку и не блочить кнопку покупки. 
					сама логика - не должна крашиться - можно в консоли ошибку выдавать.
					
					 //TODO: что бы будем хранить в Panels ? нам нужен экземпляр магии со своими прокаченными параметрами
					//при создании магии - можно копировать объект
				
			добавить возможность перемещать панели
			добавить возможность удалять/продавать магию (с подтверждением)
				если панель осталась пустой - добавлять кнопку удаления панели - в таком случае:
				остальные панели останутся на своих местах, если они не держаться на удалённой стопкой 
				но у них поменяются клавиши выбора магии
				
			добавить возможность перемещать магию на другие ячейки (если просто выкидывают - то спрашивать - удалить?)
			
			добавить анимацию заполнения ячейки магией
			
			добавить звук выезжания панели 
			
			добавить звук выбора магии 
			
			добавить кнопку апгрейда магии 
				отображать то же окно апгрейда как и для зданий / юнитов 
				
			на изображении магии нужно ещё отображать её характеристики вкратце 
				(если игрок покупает одну и ту же магию - но по разному её апгрейдить - нужно понимать по картинке - где какой вариант)
			
			> приминение магии
			
				добавить отображение мини магии на курсоре после выбора 
				
				при клике на карту - магия устанавливается или активируется 
			
				> дробилка - наносит импульсные удары в том месте - где его добавили 
					если на землю - добывает монетки 
					если на монстров - наносит им урон 
						> добавить магнит  на монетки и монстров 
							> Сбор монеток 
								монетки будет сразу собираться
			
			
		> магнит - притягивает монстров и монетки к тому моесту куда его добавили 
			> Сбор монеток 
			> добавить дробилку 
			
		> добавить магический удар метеоритом
			можно прокачивать на увеличения числа метеоров, которые по ширине увеличивают площадь поражение 
				(но падают не одновременно, а равным периодом (в 1 сек) между метеорами)
				либо можно прокачивать размер влияющий на урон 
		> удар молнией 
			> сила молнии (урон и толщена основной линии)
			> радиус расхождения молнии 
			> на сколько монстров перекидывается одна линия в бок 
			> радиус передачи линии в бок 
		> шипы из под земли 
			> сила 
			> радиус 
		> призыв скелетов на n сек 
		> ручная заморозка монстров (нужно удерживать кнопку мыши, что бы сильнее намораживать монстров до состояния льда)
		> каменная стена, которая остаётся на всегда, пока её не сломают.
			при прокачке повышается хп и защита (и визуальный размер)
		> добавить магический огненный меч (мышка становиться горящим мечом) - клики по монстрам поджигают их
			можно потом придумать монстров разного типа (водного/каменного, на которых не будет действовать данный эффект)

		> заморозка мобов в лёд, который надо сломать что бы дальше мобам пройти, а кто внутри тем минус хп и 
			замородены пока их не сломают, сами никак... лёд сам расстаит через n времени 

		> поджёчь монстра)))
	
		> падающий камень/валун
			некроманта с щитом просто прибивает за раз 
			
		> против летучих мышек чёрная дыра ? 
			можно и против наземных но нужно сильнее прокачать
				> длительность 
				> подъёмная тяга с земли 
				> радиус 
				> сила засасывания
				
				
				
	> пассивный апгрейд мыши - добавить новый раздел в shop - с видом курсора  
		> пробивающий удар: сколько то 10% урона проходит на последующего моба в той же точке
		> повышение урона
		> огненная мышка - поджигание врагов
			прокачивается время горения, урон 
		> леденящая мышка -  замораживание врагов (медленно передвигаться будут)
			прокачиается степень заморозки
		> гравитационный импульс (при клике в радиусе N создаётся с помощью шейдеров продраггивание визуальное,
			которое наносит урон все монстрам в этой области, чем ближе к курсору тем больше урона,
			даже при промахе + бонусом - сбивает летучих мышей (или не стоит?)
			> апгрейд до электромагнитный импульс (электричеством ещё бьёт, которое на секунду паралезует)

		> магнит для монеток - сбор монеток при наведении + в неком радиусе подтягивает их к курсору мышки
			прокачка радиуса 
			прокачка мощности подтягивания 
		> магнитный импульс притягивания монет (нажимаешь и монетки подпрыгивают к мышке - главное мышку не убирать)
		
		> удал электричеством (по цепочке передаётся)
		
		> увеличение добычи монет при клике на землю  (визуально как желе - искривление пространства за счёт взрыва)
		
		> оставления чёрных дыр для автосбора монето на некоторое времяя
		
		
	> новые виды монстров
		> волна 5. летающие огненные дракончики, поджигающие всё на своём пути (строения и юнитов игрока)
		> волна 7. шахматные воины(из Гарри поттреи на шахматной доске) в панцире с щитом от стрел и кликов и рубящие мечом вблизи
		> волна 8. баффер - барабанщик - на кабане - усиливает урон всех монстров в радиусе 500 пикселей (половина карты)
		> волна 9. ледяной элементаль - летает над землёй и замораживает здания, те перестают наносить урон + замораживает юнитов
		> волна 10. Босс - кракен с щупальцами и туманом и маленькими монстриками - поддержки
			после победы - можно быть что улучшить: здания, юнитов, магию, мышку 
				каждый выбор - меняет внешний облик того, что улучшило.
			сразу после победы будет со звуком отображён экран с Медалью, ферверками/хлопушками поздравительными и надпись
				"Поздравляю! Вы победили босса: <имя босса>. и выдержали натиск разных орд монстров."
				если это первый босс, то далее:
				"Теперь этот рудник ваш! Он будет приносить вам <N> монет в сутки"
				если не первый босс, то:
				"Теперь этот рудник прокачен! Он будет приносить вам <N> монет и <M> кристаллов в сутки"
				далее 2 кнопки:
				"Глобальная карта", "Продолжить бой"
		
		Минотавр, долбящий своим древесным оружием (так же умеет его в виде щита использовать (на небольшое время) от стрел башни и кликов игрока)
			> добавить реакциию на клик - кувырки, уворачивание от мышки 
			> закрывание оружием от стрел и кликов на время
		> волна 11. муравьи, они валят кучей и забираясь друг на  друга - обходят препятствия сверху не получая урона от баррикад
		
	> Добавить нпц: 
		> героя с мечом - для защиты. 
			подумать о разделении - обычный юнит и герои с опытом 
		> лучник 
		> маг 
				может снимать дефаб от некроманта - кислотный дождь и убирать негативные эффекты от него
				так же может накладывать щиты на юнитов и здания 
		> целитель  (лечить всех)
		> техник (чинить здания)
		> бард (повышение характеристик юнитов)
		
		> impulse for units from boards
			> нужен тест зданий - что не сломались
		> обработка ближайших юнитов/зданий для выбора цели


	> при разрушении здания - не уничтожать их -а отображать в разрушенном виде с возможностью отремонтировать после волны 
		> не отображать кнопку апгрейда если жизяк <= 0
		
	
	> строения: 
		> балиста (на край земли - для стрельбы по воздушным целям)
			> с сетью - против летающих дракончиков - что бы они падали на землю запутанные сетью (+ урон от падения)
			> со шрапнелью - против летучих мышей 
		> пушка с бомбами (на край земли - для стрельбы по наземным целям)
		> Тесла - можно устанавливать не только внизу на земле, но и на летающей земле 
			с поворотом оси относительно центра земли (цель - защита от летающих по бокам земли) 
			бьёт разряом тока, который передаётся по близлежащим монстрам - 
				во время удара током, монстр на 10 миллисекунд не атакует с застыванием attackLeftTime
			
		> церковь - позволяет воскрешать убитых юнитов с сохранением их уровня и прокачкой
		> инжинерный цех - позволяет восстанавливать разрушенные строения с тем же уровнем и прокачкой
			так же позволяет делать улучшения для всех строений 
				> повышение брони 
				> повышение атаки 
				...
	
	> добавить систему опыта и уровней - юниты, строения, курсор мыши получают опыт за уничтожение юнитов 
		этот опыт накапливается в уровни,
		каждый уровень даёт прибавку к некоторым характеристикам на небольшое значение: 0.1 ...
			> добавить анимацию повышения уровня 
			> добавить звук повышения уровня
			> полоска накапливания опыта 
			> отображение уровня 
			> отображение прибавки к характеристикам зелёным цветом (или синим)
			> при наведении на уровень - детальная информация о текущих увеличениях характеристик 
		стоит хорошо подумать об этом - это заставляет игрока держать и беречь юнитов/построек для накопления опыта и при потери 
			- делает дисбаланс в сторону меньшения силы игрока - а может и норм ....
		> уничтоженные здания и юниты нужно оставлять - но добавить анимацию разрушения/Гибели другую и картинку разрушенного/погибшего состояния 
			> в мирное время можно восстановить/воскресить с сохранением уровня но потерей опыта за уровень 
			
	> добавить возможность переноса зданий на другое место - только в мирное время 
	
	> Добавить возможность сноса зданий с возвратом части монет - только в мирное время 
		> то же с юнитами
		
	> добавить форму обратной связи

Средний приоритет:
	> https://reactrouter.com/en/main/router-components/hash-router
		маршруты для статического сайта на проде 
		на прод нужно завести /test/ путь, т.к. нужно быстро проверять функционал там 
		да и для людей может быть полезно повеселиться....
		
	> в меню добавить кнопку "Save" - а потом загружать то, что было сохранено - доступно только между волнами
	> Добавить английский и китайский язык и смену языков (иконка сверху, в правом углу во время меню)
	> анимации ожидания/скучания для майнера (в мирное время) запускать после прохождении обычной анимации малого движения
		> смотрит на часы 
		> смотрит по сторонам 
		> зевает 
		> облокатился на кирку
		> чешет голову
		> смотрит на погоду
		> потягивается
	> отображать значки бафов/дебафов  над юнитами/монстрами/строениями
		> в огне 
		> в кислоте 
		> пониженная защита
		> усиленная защита 
		> ускорение 
		> усиленный урон

Минимальный приоритет:
	> возможно стоит добавить всплывающие подскажки при наведении на кнопки - Апгрейд, Ремон за 10 монет - тоже самое можно к другим кнопкам сделать
	> скилл башни
		> более прочные материалы для Башни
			> полу-железная башня
			> каменная кладка - другой вид башни + увеличение защиты
	> add animation of fire ball for Tower (see TODO)
		//даже если стрела убьёт, то хотя бы подожгёт рядом стоящих монстров
	> добавить иконку кислоты на дебафнутое здание - при наведении показывать окно с подробной информацией о дебафе
		> выше/ниже полосы здоровья 
		идея с подсказкой может быть не очень удачной, если она во время боя будет вылазить....
		лучше как запись в журнале сделать и потом на паузе можно зацти в журнал и там глянуть более детальную информацию
	> когда у основной земли меньше 60%/30% - добавлять анимацию горения построек
	> нужна защита от макросов мышки на 2x и 3x клик
	> магия: целебный источник, на летающей земле открывается лечебный фонтан, все юниты в радиусе действия исцеляются на n xp в секунду 
		для продвинутого уровня игры (когда много юнитов можно нанимать)
	> скилл башни: маг
		лёд 
		метеор 
		шипы из земли 
	> усорять появление монстров и их скорость к концу волны (линейно) или может не стоит?
	> добавить управление кнопками в shop (стрелки - выбор элемента или категории, tab - переход между категориями и элементами)
	> управлние на tab ломает текущий функционал управления через стрелки (стрелки преобладают над tab - поээтому не критично)
	
	> после разрушения башни - её стрелы исчезнут в полёте (если это стрела с динамитом то может быть заметно)
		может стоит визуально не показывать здание, а уничтожать только после полного исчезновения всех стрел?
		> если реализовать разрушенное состояние зданий - то само собой будет решена проблема
	> Добавить roadMap и опубликовать игру + проверить как на сайте отрисовывается всё по мере продвижения по игре - успевает? нету ли ошибок/коясков? 
		а если инет вырубить? наверно нужно добавить систему предупреждения, если инет вырубился и контент не успел догрузиться.
		
	> можно добавить монстра из Навсикая - с красными глазами, который может уходить под землю
		
	> 20-30 волны можно сделать снежными 
		со снежными монстрами
		
		10-20 волны можно сделать осенними с жёлто-красной травой и падающими с неба редкими лесточками осеними
		
		
Чулан:

	https://chat.openai.com/
	https://beta.openai.com/docs/guides/images/introduction 	ИИ - есть возможность генерировать картинки через API - может натренировать на генерацию png картинок для игры?
	https://openai.com/dall-e-2/ - не может сгенерироать то что нужно, гугл лучше ищет чем он генерирует
		редактирование существующих картинок работает совершенно неправильно.

	https://www.artstation.com/artwork/q9ELee
	https://gifer.com/ru/gifs/

	прикол с цветом: ctx.filter="hue-rotate(260deg)"; 
	интересный вариант: Draw.ctx.globalCompositeOperation = "xor";

	
	звук космический ну погоди
	private static randomTone(context: AudioContext, gainNode: GainNode){
		const oscillator = context.createOscillator();
		oscillator.type = "sine";
		oscillator.connect(gainNode);            
		oscillator.frequency.value = Helper.getRandom(0, 1000);
		const now = context.currentTime;
		oscillator.start(now);  
		oscillator.stop(now + 0.1);  
	}

-----------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Справочная
	> кнопки ремонта и апгрейда находятся в /reactApp/components/BuildingButtons/BuildingButtons.tsx
		Отображаются по логике в /gameApp/gameObjects/Building.ts -> mouseLogic
		
	> запуск хром без cross ограничений для локальных файлов (если нужно потестить отдельно)
		закрвыаем хром
		 cd 'C:\Program Files\Google\Chrome\Application'
		.\chrome.exe --allow-file-access-from-files
		
	> AudioSystem.ts -> createIIRFilter функция - тяжеловесная, стопорит на ~1сек весь JS
		> возможно стоит изучить AudioWorklet для фонового создания фильтров

gif to sprite sheet: https://ezgif.com/gif-to-sprite/










> draw, drawBase, drawObject 
	draw - отрисовывает всё что связано с объектом помимо самого оъекта (стрелы у башни, доп элементы объекта, ...)
	drawBase - отрисовывает объект и модификаторы наложенные на него (другие параметры у метода)
	drawObject - отрисовывает сам объект с применением фильтра (другие параметры у метода)







?????
	'jsx' property in tsconfig.json
	https://stackoverflow.com/questions/62859458/what-is-the-use-of-jsx-property-in-tsconfig-json
		If you set 'preserve' it won't warn you about missing React import for instance
		
		
		
		
		
> делать ssl сертификаты через бесплатный Let's Encrypt 90 дневные