	этот кликкер - лишь малый пазл общей системы
		после завершения - поздравить и показать захваченный объект на стратегической карте (с другими типаи ресурсов и многое другое.....) - как пошаговая игра на стратегической карте
		либо после поражения от n+ уровня показывать уровень захваченного объекта и количество ресурсов которое оно будет приносить на данном уровне... можно потом попытаться переиграть на более высокое значение 
			можно ещё сделать, что бы купленные и прокаченные герои и магия сохранялись после прохоождения уровней 
			и можно было их исполььзовать на следующих боях...
		+ связать с игрой "Медуза"  - так же через мини миссии, будут паралельно данным квестам на карте 
			клккер - защита и захват ресурсов 
			Медуза - подземелья, компания, миссии на поиск артефактов, массии по исследованию областей, спасательные миссии, ...
				прохождение за людей с предметами и небольшим строительством на некоторых миссиях
				прохождение за монстров с прокачкой и мутациями
				+ сделать совместные рейды с другими игроками на миссии
				+ сделать pvp махач как и планировался для Медузы + выделить в отдельную игру затем с ссылкой на это дело

		стратегическая карты с постройкой и модернизацией строений/замков/деревень,...

		после захвата каменного рудника - на всех картах появится взможность строить/модернизировать текущие строения до каменных 
		после захвата железного рудника появится возможность повышать атаку дальше, выше n уровня (без этого, можно будет атаку ток до определённого значения качать)
			....
		новые захваченные локации будут влиять на открытие новых механик игры и на переход на более продвинутый уровень 
			что будет стимулировать игроков проходить старые карты до новых уровней для повышения добычи ископаемых и захвата новых артефактов с новых боссов

		возможно первый кликер будет - лесопилка, а монеты уже потом?
			монеты позволят нанимать юнитов 

		ещё одна локация - храм 
			он позволит использовать магию 

		на каждой локации свои уникальные монстры, арсенал игрока может немного варьироваться от локации 

Итог: будет стратегия, кликер, шутер в одной 2d игре.
	это повысит разнообразие игры.
		

Оптимизации/Рефакторинг:
	> private методы и поля должны именоваться с нижнего подчёркивания: _improve
		> проверить доступность свойств классов, может их закрыть private или только для чтения сделать readonly...
		> проверить закрытые поля - закрыть только технические поля, используемые в логике, 
			а поля свойства и другие - открыть
		> статичные - не меняющиеся поля можно в readonly константы класса вынести
	> навести порядок в ветках гита
		> удалить лишние 
		> привести версии к 0.1+ 
		> проверить что нет неучтённых изменений 
			> если есть - описать их тут 
			неучтённые ветки:
				simpleReact - can be deleted
				...
			
			учтённые ветки:
				v0.1
				...
				v0.4
				v0.5
				upgrade-tower - can be deleted
				sounds
	
Баги: -
	
Высокий приоритет:
		> уничтожение здания
		

		> может разработать систему лёгкой модификации звка рандомным способом?  что бы не добавлять по 4 каждого звука, а пусть они сами при воспроизведении рандомно модифицируются в буффере
		это сэкономит кучу памяти и трафика на хагрузку контента + кучу времени на разработку игры и сильно разнообразит звук, т..к. сейчас 4 звука меча - недостаточно при частых закликах по толпе 
			> имеющиеся по 4 вариации звуков
				норм (там из набора взяты звуки). удар киркой 
				> стрела 
				оставлен один. взрыв монстра 
				оставлен один. удар мечом 
			ok. IIRFilterNode
					пропускает всё в неизменном виде (магнитуда = 1, оба графика линейны)
						1
						1 
						
					понижает громкость до 10%  (магнитуда = 0.1, оба графика линейны)
						0.1
						1 
						
					слегка повысило громкость (магнитуда = 2, оба графика линейны)
						2
						1
						
					стало тише (магнитуда = 0.667, фаза = 0, оба графика линейны)
						1
						1.5
						
					пропускает всё в неизменном виде (магнитуда = 1, фаза = 0, оба графика линейны)
						1.5
						1.5
						
					слегка повысило громкость (магнитуда = 2, оба графика линейны)
						1
						0.5
						
					подняло громкость отдельный частот до слышимого состояния (магнитуда = 3, оба графика линейны)
						1.5
						0.5
						
					подняло громкость всех частот до слышимого состояния (магнитуда = 10, оба графика линейны)
						2
						0.2
						
				Итог: нижнее число уменьшает магнитуду, верхнее - увеличивает	
					фаза наинает меняться только при появлении второго числа
					
					магнитуда после 22000 начала рости с 1 до 8, а на 24000 герц улетела в космос 
					фаза геометрически вырастает до 1.57 к 24000 герц (1 = 23600 герц, 0.1 = 17600)
					звуковых измменений нету
						1.1   1
						1     1
						
					тоже с магнитудой
					фаза так же, но в отрицательную сторону направлена
					звуковых измменений нету
						1 	1.1
						1   1
						
					магнитуда = 1.1, линейна
					фаза = 0, линейна
					звуковых измменений нету
						1.1  1.1
						1 	 1
						
					магнитуда = 2, линейна 
					фаза = 0, линейна
					звуковых измменений нету
						2    2
						1 	 1
						
					магнитуда после 18700 начала рости с 2 до 76, а на 24000 герц улетела в космос 
					фаза плавно вырастает до 1.57 к 24000 герц (1 = 20800 герц, 0.5 = 15700, 0.2 = 8400,0.1 = 4500)
					некоторые звуки стали чуть громче
						2    1
						1 	 1
						
					так же как предыдущее, только магнитуда к 145 выросла, а фаза стала линейно от 0 к 1.5
					звуковых измменений почти нету
						2    0,1
						1 	 1
						
					тоже но фаза отрицательна от 0 к -1.5
					звуковых измменений почти нету
						0,1  2 
						1 	 1
						
				Итого: кол-во ззначений влияет на колв-о точек воздействия на трек, но чем  больше, тем тяжалее получить хоть какой-то нормальный звук
					значения всяким непредсказумемым образом меняют магнитуду и фазу, делаяслышимыми какието звуки попадающие под фильтра
				
				
			ok. https://gist.github.com/chrisguttandin/e49764f9c29376780f2eb1f7d22b54e4
				> OfflineAudioContext
					> startRendering
					работает как создание буффера - для фильтрв не годится
						ошибка different audio context.
							
			> https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API
				> https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Advanced_techniques
				
				> AudioWorklet - для фоновой обработки https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Using_AudioWorklet
				> ConvolverNode  https://developer.mozilla.org/en-US/docs/Web/API/ConvolverNode
				> WaveShaperNode https://developer.mozilla.org/en-US/docs/Web/API/WaveShaperNode
				> PeriodicWave https://developer.mozilla.org/en-US/docs/Web/API/PeriodicWave
				> BiquadFilterNode https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode
					непоспевает фильтр сгенерироваться.. есть небольшие задержки иногда
					
					lowpass
					frequency from 12000 to 24000
					Q from  1 to 15
					слух: почти нет отличий
					
					highpass
					frequency from 0 to 125
					Q from  0 to 15
					слух: почти нет отличий, после 200 frequency слышна барабанная дробь
						более бассовый чем lowpass
					
					bandpass
					слух: не удалось нормально настроить, сильно срезает звук при любых настройках
					
					lowshelf
					frequency from 1000 to 24000
					gain from  0 to 4
					слух: есть небольшие отличия
					
					highshelf 
					frequency from 5000 to 24000
					gain from  0 to 10
					слух: есть небольшие чёткие отличия
					отличия как шлепки или дождь по линолиуму
					
					peaking
					frequency from 12000 to 24000
					Q from  1000 to 2500
					gain from  0 to 10
					слух: при завышении gain до 700 слышны писки, длина которых зависитот Q
					при меньших значениям различий не слышно, кроме рандомного delay запуска трека
					
					notch
					frequency from 1000 to 24000
					Q from  1 to 200
					слуш: отбивание мяса молотком (с этими параметрами более менее незаметно)
					
					allpass
					слух:различия не обнаружились
					
					> рандомный вариант по разным типам
				
				> DynamicsCompressorNode https://developer.mozilla.org/en-US/docs/Web/API/DynamicsCompressorNode
				
				> examples: https://github.com/mdn/webaudio-examples
						
			> https://tonejs.github.io/
			
			> https://howlerjs.com/

		> добавить 4 звука пустого мохания меча в воздухе

		> добавить звук исчезновения монстров 
		
		> добавить 4 звука зомби и рандомно производить их в рандомное время при наличии зомби 
		> добавить 4 звука ударов по зомби 
		
		> добавить 4 звука хрюканья кабанов
		> добавить 4 звука хрюканья кабанов при ударе их мечом
		
		> добавить 4 звука хлопанья крылышками для летучей мышки
		> добавить 4 звука писканья летучей мышки при ударе её мечом

		> удары монстров по зданиям

		> добавить фоновую музыку в меню (начинается с нарастаием до заданных показателей)
		> добавить дерзкую и энергичную фоновую музыку в режиме игры на тихом, еле заметном уровне
		
		> добавить звуки
			> падение монетки
			> монетка собрана монстром 
			> покупка элемента в магазине
			> спец способность кабана
			> удар спец способности кабана 
			> Game Over
			> начало новой волны - отдельный звук
			
		> добавить настройки в меню 
			общая громкость 
			громкость звуков 
			громкость музыки

		> Добавить иконку отключения звука (снизу, в правом углу во время меню)
			она меняет общу громкость на 0 или обратно на предыдущий уровень 
			при изенении ползунка, конка так же должна реагировать 
			иконка должна быть только в магазине и в меню (при заходе в настройки - исчезает ? надо глянуть, может пусть будет )
		
					
					
		> скиллы 
			> более прочные материалы (каменная кладка - другой вид башни + увеличение защиты)
				> отображать картинку апгрейда скила
					> название 
					> кнопку покупки со стоимостью
					> внизу центрированно отображать улучшения в виде одних только цифр и иконок
						+1 <иконка человечка>
						+50% <иконка атаки>
					> отображать у связанных характеристик иконки 
					> звук улучшения 
					> анимация улучшения 
					> проверка на стоимость и баланс 
						> disable кнопку если нехватает монеток
					> отображать некий предмет после улучшения на строении (по координатам) означающий что улучшение проведено 
					> отображать купленное улучшение как disabled 
						и подумать как можно его отображать в поощрительном виде, что бы была гордость за покупку, а не пустота от disable
			> железные шипы для баррикады
			> добавление огненных стрел (поджигают монстров) + к внешнему виду башни добавляется огненое жерло анимированное
			> скилл башни: стрелы с динамитом 
				если прокачена огненные стрелы, то этот cкилл будет чередоваться с огненными стрелами (одна стрела горящая, другая с динамитом)
	
	> новые виды монстров
		> волна 4. некромант с посохом, стреляет посохом на расстоянии и иногда вызывает 1 из 3-х более мощных заклинани
		> волна 5. Минотавр, долбящий своим древесным оружием (так же умеет его в виде щита использовать (на небольшое время) от стрел башни и кликов игрока)
			> добавить реакциию на клик - кувырки, уворачивание от мышки 
			> закрывание оружием от стрел и кликов на время
		> волна 6. дракончики огнедышащие, атакующие всё на своём пути и поджигающие строения 
		> волна 7. шахматные воины(из Гарри поттреи на шахматной доске) в панцире с щитом от стрел и кликов и рубящие мечом вблизи
	

	> Добавить нпц: 
		> героя с мечом - для защиты. 
			подумать о разделении - обычный юнит и герои с опытом 
			лучник 
			маг 
			целитель  (лечить всех)
			техник (чинить здания)
			бард (повышение характеристик юнитов)
		> золотодобытчиков (с киркой на летающей земле)
			можно прокачивать инструменты (кирка, бур,...)
		> золотособирателей 
			можно прокачивать инструменты сбора (тележки, пылесос)
		

	> магия: каменная стена, которая остаётся на всегда, пока её не сломают.
		при прокачке повышается хп и защита (и визуальный размер)
		
		> добавить магический удар метеоритом
			можно прокачивать на увеличения числа метеоров (до 5 ?), которые по ширине увеличивают площадь поражение 
				(но падают не одновременно, а равным периодом (в 1 сек) между метеорами)
				
		> добавить магический огненный меч (мышка становиться горящим мечом) - клики по монстрам поджигают их
			можно потом придумать монстров разного типа (водного/каменного, на которых не будет действовать данный эффект)

		> заморозка мобов в лёд, который надо сломать что бы дальше мобам пройти, а кто внутри тем минус хп и 
			замородены пока их не сломают, сами никак... лёд сам расстаит через n времени 

		> поджёчь монстра)))
			
	> Добавить возможность сноса зданий с возвратом части монет

Средний приоритет:
	> при окончании хп самой земли - сделать взрыв сверхновой на весь экран
	> Добавить английский и китайский язык и смену языков (иконка сверху, в правом углу во время меню)
	
	> добавить управление кнопками в shop (стрелки - выбор элемента или категории, tab - переход между категориями и элементами)
	> в меню добавить кнопку "Save" - а потом загружать то, что было сохранено
		й 

	


Минимальный приоритет:
			
	> когда у основной земли меньше 60%/30% - добавлять анимацию горения построек
	> обломки от ударов по башне
	> добавить отлёт ошмётков при ударе по канату мобами
	> добавить юнит тесты и визуальные тесты
	> нужна защита от макросов мышки на 2x и 3x клик
	
	> магия: целебный источник, на летающей земле открывается лечебный фонтан, все юниты в радиусе действия исцеляются на n xp в секунду 
		для продвинутого уровня игры (когда много юнитов можно нанимать)
	> скилл башни: маг
		лёд 
		метеор 
		шипы из земли 
	> добавить анимацию искр золотых при добычи золота [нейтральная польза, возможно, стоит отказаться от этой идеи]
	> усорять появление монстров и их скорость к концу волны (линейно)
	


Чулан:

	https://www.artstation.com/artwork/q9ELee
	https://gifer.com/ru/gifs/

	прикол с цветом: ctx.filter="hue-rotate(260deg)"; 
	интересный вариант: Draw.ctx.globalCompositeOperation = "xor";

	
	звук космический ну погоди
	private static randomTone(context: AudioContext, gainNode: GainNode){
		const oscillator = context.createOscillator();
		oscillator.type = "sine";
		oscillator.connect(gainNode);            
		oscillator.frequency.value = Helper.getRandom(0, 1000);
		const now = context.currentTime;
		oscillator.start(now);  
		oscillator.stop(now + 0.1);  
	}

-----------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------
Сделано:
 Ok. Сделать фон
	Сделать фон у body? или у canvas тега? или отрисовать в canvas?
	разрешение картинки 1988x882 (разрешение экрана 1920x1080) (разрешение chrome окна 1920x937)
		тобишь при разрешении экрана в 4k - будет некрасивая хрень
			при большем размере мы можем центрировать по центру картинку, а остальное заполнить чёрным
	Как будет происходить отображение фона при разных разрешениях и пропорциях?
		особенно при более меньших
			будем ли мы передвигать фон? или будем его обрезать? 
				двигать будет не удобно + бестолково, если нападение со всех сторон происходит
				* значит будем масштабировать в одинаковой пропорции с заполнением чёрным по краям
	Результат: отображаем в пропорции, заполняем фон затемлённой землёй
Ok. наведение на объекты
Ok. time цикл
Ok. Анимации
Ok. пропорции объектов
	ширина экрана 1920
	ширина летающей земли 500 (1/4 ширины экрана)
		1920 / 2 - 500 / 2 = 710 пикселей от границ экрана до земли 
Ok. текст от сбора монеток (+1) зелёным-лаймовым цветом
	Message.Add(messages, new Vector2(mouse.X - 10, mouse.Y - 10), new Message("+" + Coin.costGold));
	rgb(191,255,0)
Ok. структура js файлов
	Ok. нужно разделить функционал по canvas и game logic 
		скорей всего это будет базовый класс с функциями: draw, logic, init, hover, click

		как быть с множественными объектами?
			можно статичныый класс сделать, но тогда придётся постоянно копировать его функционл в новые классы

		WaveData класс

		Решено. расположение неверное, куда идут зомби (нет смещения на середину здания)
		Решено. монетки не собираются зомби
		Решено. урон не наносится зданию
Ok. создать отдельный index.html для тестов
	создать класс для тестов
Ok. меню
	можно ставить игру на паузу - тогда появится меню с пунктами "Продолжить", "Новая игра"
	если волна закончилась, то добавляются пункты "Магазин", "Новая волна"
	если игрок проиграл, то только пункт "Новая игра"
	Ok. добавить кнопку "Меню" в верхний левый угол
Fixed. есть баг с монетками - после выхода из паузы - они исчезают, т.к. они по createdTime удаляются.
	надо поменять на lifeTimeLeft
Ok. сделать несколько видов одного монстра (разные цвета? / небольшие различия?)
	Ok. модернизировать выбор изображения из существующих - лучше передавать скоп картинок внутрь класса Monster, а там рандомом выбирать?
Ok. добавить показ уровня волны
	Ok. 1-ая волна
Ok. добавить показ количества монстров на волне (просто сколько убито из всего) 0/500
Ok. после волный, показывать сообщение - 1-ая волна - пройдено.
	Ok. появляется кнопка магазина 
	Ok. и кнопка - начать следующую волну
Ok. Архитектурный момент по html:
	магазин стал сильно большим и там много функционала по добавлению/исчезновению элементов
	Ok. может пора использовать react?
			стоит ли использовать reduxe? 
				только для html? или для всего?
			Какой react? 
				native или продвинутый?
	Ok. Так же пора использовать less или sass для стилей
	Ok. TypeScript 
Ok. нужно использовать TypeScript что бы не было проблем с тонной ошибок
Ok.у магазина должно быть затемнение заднего фона
Cancel. добавить магазин (вариант 1):
	нужно расписать все возможности, которые можно купить

		> юниты 
			атакующие, 
				маги, лучники, воины
			собирающие монетки, 
			долбящие землю, 
			лечащие, 
				маги, врачи
			ремонтирующие

				* получают опыт для новых уровней, с каждым уровнем повышаются характеристики
				* можно прокачивать каждого юнита отдельно

		> баррикады (колья, стена деревянная)

		> оборонительные башни
			наземные
				 башня как в warcraft у орков, 
			на летающей земле
				 катапульта, 
				 балиста 

		> другие строения 
			магнит на сбор монет, 
			мед блок для лечения юнитов после волны
			бур
			энергетический барьер


		> улучшение клика (увеличение урона, коэффициент сбора монет увеличенный)
			сбор монет при наведении мыши,
			магнит на монеты для мышки

		> магия (
			вызов метеора, 
			улучшение защиты/атаки юнитов и построек на n секунд
			лечение юнита, 
			массовое лечение, 
			ремонт постройки)
cancel. магазин (вариант 2) (покупаются здания на острове + их улучшения, затем в самих зданиях покупаются их содержимое) 
	> храм - улучшения повышают силу клика и заклинаний 
		> пассивные
			> сбор монеток при наведении
			> магнит для монеток
			> поджигание врагов (горят долго)
			> замораживание врагов (медленно передвигаться будут)
			> удал электричеством (по цепочке передаётся)
		> активные заклинания
			> метеорит
			> огненный дождь

			> заморозка
			> цепная молния
			> каменные шипы из под земли

			> лечение
			> ремонт

	> казарма - улучшения усиливают юнитов (при смерти юнитов - их можно воскресить за 10% от стоимость) 
		> рабы для сбора монеток
		> рабы для долбления земли
		> Леголаз - лучник (улучшения увеличивают скорость стрельбы и урон)
		> Паладин - юнит с щитом и мечом (улучшения повышают защиту и хп)
		> Берсерк - атакующий юнит с секирой (улучшения повышают урон, область атаки и хп)
		> Маг - атакующий юнит с жезлом (улучшения повышают урон, дают новые заклинания и увеличивают область атаки)
		> медсестра - лечит юнитов магией (улучшения повышают силу лечения и скорость передвижения)
		> Техник - чинит здания (улучшения повышают скорость восстановления зданий и скорость передвижения)
		
		> Терминатор (дорого) - атакующий робот на гусеничной платформе, сверху - пулемёт (улучшения повышают урон)
		> летающиая тарелка (очень дорого) - атакующий летающий юнит (атакует лучом) (улучшения повышают скорост полёта и урон)

	> строительная фабрика - улучшения увеличивают хп и защиту строений 
		> баррикады (деревянные)
		> стена (деревянная)

		> атакующие
			> башня наземная
			> башня воздушная
			> катапульта
			> балиста

		> бур (для добычи монеток)
		> магнит - для сбора монеток
		> энергетический барьер 

	> Исследовательский центр - позволяет изучать новые виды зданий, юнитов и магии, после чего появляются новые скины
		(надо подглядеть в других играх)
		1. ур (изначальный) - деревянные здания (башня варкрафта), юниты с копьями, луками, с деревянные щитами
			? 1.1 ур - укреплённые деревянные здания, юниты с каменными копьями
		2. ур - каменные здания (башня из казаков), юниты с мечами, арбалетами, улучшенными луками, железными щитами
		3. ур - стальные здания, юниты с мушкетами, саблями
		4. ур - бетонные здания, юниты с автоматами, гранатами
		5. ур - иновационные здания, юниты с лазерами, энергетическими щитами и гранатами


		отдельные улучшения?
			> повышение защиты зданий
			> повышение силы магии (у кликов и у  магических юнитов и зданий)
			> повышение урона юнитов
			> повышение защиты юнитов
			> 
В процессе. Магазин (Вариант 3) - гибрид варианта 1 и 2
	Минусы варианта 2 - необходимость строить здание перед покупкой
	Минусы варианта 1 - было бы классно построить храм на горе и казарму и завод (или нет?)
		Храм позволяет апгрейдить магию, силу клика и изучать новые заклинания
		Казарма позволяет апгрейдить юнитов и нанимать новых персонажей
		Завод позволяет апгрейдить строения и строить новые здания
Ok. добавить кнопку на начало новой волны
Ok. монстры должны разрушать постройки.
Ok. При уничтожении монстров добавить анимацию разлитания энергии вокруг,
	 как в игре Valheim
Ok. добавить анимацию разрушения башни
	Ok. (после 0 хр)
Ok. оживить башню - она должна стрелять по ближайшим врагам
Ok. добавить анимацию атаки башни (стрелой)
Ok. добавить затемнение объектов во время блокировки нажатий
Fail. добавить вибрацию земли при клике (добычи золота)
	[результат с вибрацией по горизонтале и по rotate оказался не очень]
Ok. в волнах выставить отсрочку появления каждого типа монстра, что бы более сложные выходили чуть позже
Ok. создавать монстров разного размера (в диапазоне) + разное хп от размера
	Ok. сделать отрисовку изображения меньше оригинала
	Ok. сделать движение наземных монстров по земле, а не по заданному y
Ok. добавить демо режим: мало монстров, высокая награда за них
Ok. связать скорость анимации со скоростью движения
Ok. сделать прыок кабана заметнее
Ok. сделать анимаю атаки кабанку
Ok. при строительстве отображать радиус стрельбы башни 
Ok. добавить звуки
			Ok. добавить настройки уровня звуков и музыки 
			Ok. постройка зданий: бух
			Ok. сбор монеток 
			Ok. выбр элементов меню
			Ok. добыча монетки
Fixed. в режиме строительства, при клике на магазин или меню - выбранная башня ставиться/строиться
Fixed. если поставить башню на середину, то монстры будут бить саму верёвку через башню
Fixed. При отображение надписи "Волна пройдена", если тыкнуть на "Новая волна", то будет тёмный экран пару секунд
	нужно принудительно завершать показ предыдущей надписи при появлении новой надписи.
Fixed. невозможно поставить более одной башни
Ok. добавить затемнение с прозрачным пропаданием пыли от строительства здания и взрыва здания
Ok. дать кабану спец способность +  анимация спец способности
	Ok. анимация облаков пыли при беге 
		Or создавать увеличивающуюся анимацию, и уменшать прозрачность
			каждые n пикселей создавать 
		Or создать 1 анимацию, котора будет перемещаться вслед за кабаном и будет зацикленной с n кадра
			до тех пор пока кабан движется
			90x44
			18 кадров
	Ok. передавать зданиям импульс
		Ok. добавить башне качание от импульса
	Ok. анимация отлёта ошмётков при столкновении 
	Ok. переработать систему срабатывания спец способности - она должна срабатывать в диапазоне, от N пикселей до цели до M пикселей до цели
	Cancel. можно поиграться с шейдерами canvas, что бы изобразить небольшую ударную волну  https://habr.com/ru/post/420847/
		всё оказалось намного сложней, getContext не поддерживает выдачу разных типов для одного canvas, 
			при этои, webGL canvas намного производительней, но и сложней в использовании....
			если хотим его использовать, то нужнен полный переход с 2d на webGL,
			так же в webGL можно сделать освещение через нормали https://developer.mozilla.org/ru/docs/Web/API/WebGL_API/Tutorial/Lighting_in_WebGL
				но трудозатраты на создание нормалей для каждого объекта - может быть через чур высоким
	Cancel. возможно так же стоить добавить доп анимацию атаки, т.к. обычное начало атаки выглядет неэффектно
Ok. отображать урон по юнитам красным цветом без минуса, при сборе монет или получения монет за
	уничтожение монстра - отображать жёлтым цветом + звук
	При покупке здания, плавно уменьшать количество монет на счету
Ok. отображать урон юнитов по зданиям
	Ok. обновить систему нанесения урона монстров, не раз в каждый цикл, а раз в n времени по анимации 
	Ok. всплывающие Label ? будет прикольно и плавно исчезающие, если так сделать все Labels?
	Ok. цветовую схему можно поменять, красный - урон зданиям, зелёный или фиолетовый - урон по монстрам
		Fail. отображать чёрный текст с белым контуром, иначе не видно совсем. - Белый превосходит чёрный 
			чёрный на красном - уже лучше, но тоже не катит в общей массе.
		Fail. зелёный, бирюзовый и фиолетовый смотрится отстойно.
		но красный по зданиям - классно и по монстрам тоже классно, но я не думаю что это хорошо смешивать
		может сделать разные оттенки красного?
		попробовать использовать перламутровый - который переливающийся, анимацией, но я не уверен, что это возможно сделать без шейдеров
Fixed. при надписе GameOver появляется дым у кабанов некоторых, у которых дыма небыло
	дело в smokeScaleSize
Canceled. можно поиграться с шейдерами canvas, что бы изобразить небольшую ударную волну  https://habr.com/ru/post/420847/
		всё оказалось намного сложней, getContext не поддерживает выдачу разных типов для одного canvas, 
			при этои, webGL canvas намного производительней, но и сложней в использовании....
			если хотим его использовать, то нужнен полный переход с 2d на webGL,
			так же в webGL можно сделать освещение через нормали https://developer.mozilla.org/ru/docs/Web/API/WebGL_API/Tutorial/Lighting_in_WebGL
				но трудозатраты на создание нормалей для каждого объекта - может быть через чур высоким
Canceled. может при клике тоже небольшое баловство с шейдером сделать?
Ok (50%). добавить эмоциональное вознаграждение за клик по мобу + за клик по летающей земле
	Ok (50%). добавить анимацию кирки при добычи золота (сияние кирки с блёском)
	Ok (50%). доработать анимацию меча при клике по мобу
Fixed. иконку категории в магазине можно перетащить - нужно добавить запрет на выделение
Fixed. когда долго не заходишь на вкладку, то звук первый долго появляется 
	- он заново грузится в кеш?
		да, судя по Network загрузкам
	- как загрузить аудио только 1 раз?
		нужно перетащить файлы в public папку?
		fail. а если к body Добавить динамически?
			document.getElementsByTagName('body')[0].appendChild(selectingSound);
			непомогло
				это из-за того, что аудио файл через new Audio вызывается?
				https://stackoverflow.com/questions/69760600/how-to-cache-a-webaudio-object-properly
	- эта проблема актуальна и для картинок?
		иконки курсора в base64 он почему то грузит заново, остальные картинки остатся актуальными
		для других картинок - неактуально
	- проблема исчезает, если в body создавать audio тег динамически и его использовать всегда для воспроизведения 
		> можно использовть этот метод + добавить проверку на статус. если нельзя воспроизвести, то создаём новый элемент 
			с новый id и в следующий раз уже выбираем между текущими элементами, который из них свободен 
			(брать элементы по классу+ фильтр по статусу)
			
			ended - закончил ли воспроизведение элемент 
			https://developer.mozilla.org/ru/docs/Web/API/HTMLMediaElement
	Ok. можно попробовать закачать аудио в буфер после загрузки 
		и в следующий раз создавать с буфера Audio объект, если это можно
fixed. иногда мобы "выплывают" из под земли
	monsterSize.height = 0, т.к. изображение не успело загрузиться для тестирования
	Monsters.ts -> init:
		this.typeSizes = {
			[Zombie.name]: new Size(Zombie.images[0].width / Zombie.imageFrames, Zombie.images[0].height),
			[Boar.name]: new Size(Boar.images[0].width / Boar.imageFrames, Boar.images[0].height)
		};
	этот код надо вызывать, когда завершилась загрузка требуемых каринок
Ok. добавить ещё одно строение: баррикада с шипами
Fixed. ничиго не происходит при попытки построить второй объект после перого, когда ещё label не пропал
Ok. при строительстве зданий, их нельзя друг на друга ставить. - нужно отображать красным, если место занято.
fixed. импульс не изменяет отображение других зданий 
fixed. картинка башни имеет висящую в воздухе заднюю-левую опору
Ok. при тестировании выявилось, что картинка может не успеть загрузиться перед началом использования, а потом уже будет поздно
	актуально только для test page. В самой игре идёт ожидание загрузки картинок перед запуском игры
		но при этом, было бы хорошо найти динамический способ загрузки картинок, во время самой работы игры. Ленивой загрузкой.
	частично сделано: пофиксить появление монстра на карте, ведь он появляется с учётом своей высоты
	возможно стоит разделить на картинки, которые нужны к началу игры и те, что могут грузится уже после, в процессе, до своего появления 
		> до своего появления - как это сделать? сейчас картинки в init методах грузятся в начале игры и игра не начнётся, пока некоторые из них не будут загружены
		> если интернет медленный, то lazy загрузка картинокможет только навредить, тем что будет задерживать начало появления некоторых объектов 
			в то же время, ничего плохого может и не быть, если картинка рано или поздно загрузиться...
			а если произойдёт ошибка загрузки картинки? надо же её перезагрузить
	картинка не отображается, потому что в конструкторе передаётся image.width внутрь родительского класса, 
		в width = 0, т.к. картинки ещё нет.
	Решение: 
		> либо контролировать создание объектов (если ещё не загрузился, то не создавать и писать лог)
			проблемы: на страницы тестирования это не прокатит
				контр решение: добавить проверку там 
		> после загрузки картинки, заново записывать размер картинки 
		Selected. брать размер картинки динамически - по get свойству с вычисляемыми значениями
			не у всех моделей, это значение берётся из картинки
			могут быть проблемы с производительностью
Ok. очередь загрузки картинок
	Ok. загружать background раньше начала игры 
	Ok. загружать здания (кроме первых) после окончания первой волный
		> добавить ImageHandler для зданий 
		Ok. Builder картинки 
	Ok. загружать Monsters картинки (explosion) после начала игры 
fail. Cancel. сделать дополнительные 2 разные окраски кабанов 
	(более коричневый с 2 белыми полосами, как у зебры, только шире, в виде молний)
	(и чёрный вариант с серыми пятнами)
Ok. добавить летучую мышку, которая будет летать не по прямой траектории, а зигзагообразно (падают, поднимаются,...)
	с разным количество падения и очень ломанной  тракекторией, что бы сложно было попасть мышкой по ней
	Cancel. настроить поиск целей для башни - только наземные 
	Ok. настроить поиск целей для мыши - только летающая земля и воздушные 
	Cancel. добавить доп окрасу - фиолетовую с чёрными полосами 
	Cancel. добавить доп окрасу - цвета кожи с оранжевым мехом на грудной клетке 
Fixed. земля некликабельна в тестах
	непроходит проверку 
		Waves.isStarted && Waves.delayStartTimeLeft < 0
Fixed. если поставить на паузу, то некоторые монстры достаточно далеко переддвигаются при возврате 
	надо ограничить delayMillesecond в 1 секунду

Ok. ремонт строений (кроме главного здания?)
	Ok. иконка молоточка в рамке, при наведении на строение 
		Ok. при наведении должна отображать необходимое коилчество монет для починки = 1/10 от стоимости * (maxHealth - health)
		Ok. при клике - 
			Ok. починить и 
			Ok. потратить монетки + 
			Ok. label потраченных монеток и 
			Ok. звук монеток и починки (стук молотков)
			Ok. анимация починки
	Ok. иконка настроек рядом для upgrade окна 
	Ok. здание должно светиться при наведени, и клик должен открыть окно upgrade
	Fixed. нельзя ударить по мышкам, в области летающей земли
Ok. не отображать занчки ремонта и апгрейда пока идёт затеменение после волны
Ok. анимация за другими строениями появляется и за полоской здоровья. нужно вывести на передний план её.
Fixed. Обновить demo для третей волны 
Fixed. анимацию молотком поменять - сделать более быстрей и наклон молотка поменять
Done. на Enter не начинается игра и нет выбора пункта меню на стрелочки
fixed. иконка обновления перемещается, если зажать мышку и утащить
fixed. если открыто окно апгрейда, то Escape закрывает его, но и открывает меню сразу, что неправильно
fixed. кнопка апгрейда отображается при открытом окне апгрейда 
fixed. если при открытом окне пгрейда тыкнуть на ремонт, то в самом окне апгрейда данные останутся старыми
fixed. неудобно что при клике на кнопку ремонта или апгрейда, нужно убрать мышку со здания и заново завести, что бы появились кнопки заново
fixed. при клике на другом строении, анимации апгрейда остаются
Done. создать класс анимации (входной параметр: картинка, кол-во фреймов, время за которое все фреймы должны выполниться)
	внутри так же будет время начала анимации 
	
	(текущее время - время начала) % timeToShowAnimation / (timeToShowAnimation / frames)
	1577826000000 (1 jan of 2020 00:00:00) - 1577826060000 (1 jan of 2020 00:01:00) = 60000
	1 минута времени 
	frames = 60 
	timeToShowAnimation = 60000
	
	60000 % (60 * 60000) / 60 = 1000
	let frame = Math.floor((Date.now() - timeStart) % duration / (duration / frames));
Ok. отображать урон башни в информации + радиус действия + скорость стрельбы 
Ok. подсвечивать обновляющееся здание (можно анмацию под зданием - светящееся облако жёлтое)
	Ok. удалить пустое пространство по бокам каждого фрейма
	Cancel. Уменьшить кол-во кадров в 2 кадра
	Cancel. удалить середину анимации во всех кадрах
Ok. в классе зданий нужно добавить функцию которая будет возвращать список dictionary характеристик 
Ok. добавить возможность перемещения окна апгрейда
fixed. в магазине монетки затеменены
fixed. есть некий кейс, стабильно воспроизводится, но только по определённой траектории движения мыши 
	http://localhost:3000/test?v=20
	мышью с левой баррикады передвигаем строго вправо без наклона, до середины башни с умеренной скоростью (не быстро)
	значки аппгрейда и починки у баррикады исчезают, а у башни они не появляются, даже при движении мыши внутри башни 
	
	баг воспроизводится если 2 строения перекрёстно налагаются друг на друга 
		движемся мышкой в зону налажения 
		кнопки с первого строения пропадают (т.к. кнопки в единственном экземпляре существуют) 
			и появляются на строении 2 (у них просто стили меняются на местоположение второго здания)
		при выходе мышки из зоны второго здания, но всё ещё находясь в пределах первого здания, кнопки теряются (
		
			BuildingButtons отображается всегда, а скрывается за счёт стилей для wrapper, 
				размер и позиция которого задаётся размеру и позиции здания (opacity: 0, а при hover: 1)
		
			мешает условие if(!this._isDrawButtons){
			т.к. мышка не выходила из зоны первого здания 
			
			fixed. только сейчас на зонах пересечения логика фигачит много в BuildingButtons, но визуально это не проявляется.
Ok. может перенести затемнение экрана для меню в Game.drawAll функцию? 
	это позволит только 1 раз затемнять область + можно будет количество монеток в интерфейсе выводить после затемнения для магазина
	но монетки нужны только для магазина
fixed. после починки здания - не отображается кнопка модернизациия здания
	вызов BuildingButtons.hide(); в onClickRepair of BuildingButtons.tsx создаёт этот баг 
fixed. при клике на Меню кнопку - первый пункт оказывается выделен, хотя мышка ещё не заходила туда  
fixed иконки ремонта и апгрейда проседают при разрешении экрана меньше 1200 
	- так же они разные для разных по высоте зданий 
		может сделать их одинакового размера?
fixed. при закрытии окна апгрейда, при наведении на то же здание - нету кнопки апгрейда (пока не наведёшь на другое здание)
fixed. пропадает звук, иногда вылечивается заходом в меню 
	сценарий: тыкать на добычу монеток до прихода мобов к канату (ошибок в консоле нету)
	может хром блочит за спам?
		ended событие не срабатывает у таких записей без звука
Ok. зомби
Ok. кабаны
	способность: с 30% встаёт и как бык начинает землю задними копытами гребсти, а потом бежит с пылью и 
		врезается нанося 10-ти кратных урон.
		+ добавить анимацию шатания башни от такого удара.
Ok. летучие мышки
	летят не по прямой траектории, а зигзагообразно (падают, поднимаются,...)
Ok. сделать воспроизведение анимации за указаное время, а не хаотичное исполнение - оно пропускает кадры и не факт, что кадры идут друг за другом)
Ok. синхронизировать анимацию атаки с частотой нанесения урона
fixed. когда землю разрушают buildingGoal = null при попытке обратиться к .width  в Monsters логике: this.x > this.buildingGoal.x + this.buildingGoal.width - this.width / 5
	this.buildingGoal имеет проверку сыше на null 
fixed. при клике на начало новой волны - надо скрывать меню апгрейда
fixed. если навести на параметр радиус атаки и зажав кнопку апгрейда увести мышку быстро, то радиус остаётся висеть
	disabled кнопка ломает логику вхождения/покидания мышки (спасли другие события мышки: onMosueOver/Out заместо onMouseEnter/Leave)
ok. upgrade башни: 
	ok. добавить кнпоку ремонта к характеристикам хп
		Ok. настроить стили 
	ok. прокачка каждой характеристики в отдельности (колв-во уровней у характеристики + стоимость каждого уровня)
		ok. при наведении показывать стоимость слева 
			ok. если нехватает - показывать красным цветом 
		ok. кол-во потраченных монеток не видно
			Ok. Нужно что бы был не 1 label, а несколько
		ok. добавить звук оплаты
		ok. если недостаточно монеток - disable кнопки
		ok. нужно что-то придумать с наездом текста в Здоровье, если оно неполное
		ok. set яркий style with transition затуханием цвета после апгрейда и ремонта
			ok. как получить текущий элемент? 
			ok. как установить цвет моментально, а потом убрать с затуханием?
				убрать transition
				установить зелёный цвет 
				установить transition
				убрать зелёный цвет
				
				transition: background-color 2s ease;
				background-color: #12a300 !important;
				
				ok. но нужно проверить как будет выглядеть при нескольких быстрых апгрейдах
		ok. при апгрейде здоровья, ремонт удешевлется, т.к. он ведёт расчёт на основе первоначальной цены строения
		ok. при наведении на "Радиус атаки" - показывать этот радиус, как при строительстве 
			ok. MouseIn mouseOut событие на элементе + функции эти в InfoItem, гду в Tower в них будет записывать true/false для отображения радиуса
		ok. добавить "Защита" и иконку щита (не добавлять улучшение этой опции - оно будет происходить через отдельный скилл)
		ok. уменьшение скорости перезарядки - надо подумать как это ограничить, бесконечно ведь не стоит давать, может уменьшать в процентах от текущего числа?
			или уменьшение в n раз ?
		ok. может improve points - не нужно передавать ? коли у нас функция improve есть....
		ok. прокачка количества лучников - должна увеличивать кол-во разных target-ов при условии, что есть разные монстры 
			иначе пусть одну цель долбят 
		ok. так при разные таржетах должны выбиратся разные типы мобов по земля/воздух
		cancel. добавить башни возможно изменять target  (клик на башню - клик на моба)
			причина: игрок будет терять время кликов на таржетирование целей, которые башня может уничтожить за 1 выстрел - в чём логика? только мешать будет....
			> проверить что бы небыло нечайных нажатий (хотел по мобу, а попал на башню)
			> таржет при разном кол-ве лучников (по порядку таргетировать каждого лучника)
fixed. когда недостаточно монет, цена ремонта сама отображается всегда на панели апгрейда здания и эта цена чёрного цвета, а не красного
ok. добавить 4 звука выстрела стрелой
	если объеденить arrowStrike2Sound и arrowStrike4Sound в один звук то более менее сносно, но при мноожественных башнях и лучниках нужно разбовлять...
		если заменить arrowStrike2Sound на более качественный звук полёта стрелы то будет то что надо
	ok. добавить замедление/ускорение аудио потока 
		ok. для стрел связать это со скоростью стрел
fixed. нужно сделать чёрным фон фона в магазине, т.к. при переключении на другую вкладку, картинка ещё не успела загрузиться и отображается на секунду жёлтый фон. сильное моргание. чёрный помог бы сгладить
fixed. при открытии магазина картинки с широких нормализуютсяв нормальные (видно моргание на эту 1 секунду)
	на это влияет стиль object-fit: contain
	заменил на background стиль
ok. добавить 4 звука меча 
fixed. звуки меча слишком разные, это бьёт по уху. один звук намного лучше воспринимается. 1 или 3 файл звука
	> при множественным ударах разные звуки как буд то не доигрывают до конца, непонятность возникает со звукми, иллюзия прерывания звуков
	заменил на 1 звук, но на кждоый волне он меняется - надо будет проверить - норм или нет при игре?

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Справочная
	> кнопки ремонта и апгрейда находятся в /reactApp/components/BuildingButtons/BuildingButtons.tsx
		Отображаются по логике в /gameApp/gameObjects/Building.ts -> mouseLogic
		
	> запуск хром без cross ограничений для окальных файло (если нужно потестить отдельно)
		закрвыаем хром
		 cd 'C:\Program Files\Google\Chrome\Application'
		.\chrome.exe --allow-file-access-from-files
		
	> AudioSystem.ts -> createIIRFilter функция - тяжеловесная, стопорит на ~1сек весь JS
		> возможно стоит изучить AudioWorklet для фонового создания фильтров